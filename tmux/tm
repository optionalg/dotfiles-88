#!/bin/bash
#------------------------------------------------------------------------------#
# vi: set sw=4 ts=4 ai:                            ("set modeline" in ~/.exrc) #
#------------------------------------------------------------------------------#

#------------------------------------------------------------------------------#
# $Id:: tm 5 2012-08-06 15:30:44 tonk                                       $: #
# $Revision:: 5                                                             $: #
# $Author:: Ton Kersten <Github@TonKersten.com>                             $: #
# $Date:: 2012-08-06 15:31:02 +0200 (Mon, 06 Aug 2012)                      $: #
#------------------------------------------------------------------------------#

#------------------------------------------------------------------------------#
# Start in the HOME directory                                                  #
#------------------------------------------------------------------------------#
cd

#------------------------------------------------------------------------------#
# Start or reattach tmux                                                       #
#------------------------------------------------------------------------------#
if tmux has-session > /dev/null 2>&1
then
	cmd="attach-session -d"
fi

#------------------------------------------------------------------------------#
# Start with a program?                                                        #
#------------------------------------------------------------------------------#
if [[ ${#} == 0 ]]
then
	tmux -2 -u -l ${cmd:-}
else
	tmux -2 -u -l ${cmd:-} "${@:-}"
fi
