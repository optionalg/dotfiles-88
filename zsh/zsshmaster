#------------------------------------------------------------------------------#
# vi: set sw=4 ts=4 ai:                            ("set modeline" in ~/.exrc) #
#------------------------------------------------------------------------------#

#------------------------------------------------------------------------------#
# $Id:: zsshmaster 11 2009-08-09 15:21:13Z tonk                             $: #
# $Revision:: 11                                                            $: #
# $Author:: Ton Kersten <TonK@Wanadoo.nl>                                   $: #
# $Date:: 2009-08-09 17:23:11 +0200 (Sun, 09 Aug 2009)                      $: #
# $Hash:: 02096d275fe3ed27440585bf575f39e072d8d88f (tonk)                   $: #
#------------------------------------------------------------------------------#

# ssh stuff
# check if we are the master or a slave connection
# this must be sourced before .zprompt is

[[ ! -z ${ZSSH} ]] && return

if [[ -z ${SSH_TTY} ]]
then
	unset ZSSH
else
	if [[ ! -e ~/.ssh/${SSH_CLIENT// /_} ]]
	then
		# file does not exist, we are a master
		touch ~/.ssh/${SSH_CLIENT// /_}
		ZSSH="m@"
	else
		# slave connection
		ZSSH="s@"
	fi
fi
